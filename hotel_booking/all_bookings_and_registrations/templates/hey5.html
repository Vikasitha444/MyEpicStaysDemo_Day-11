{% comment %} <!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyEpicStays | Find Your Best Destination</title>
    <link rel="icon" href="https://myepicstays.com//assets/img/Symbol-01.png" type="image/png">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css" />
    <style>
        :root {
            --primary: #4a89dc;
            --secondary: #5cb85c;
            --light: #f8f9fa;
            --dark: #343a40;
            --gray: #f0f0f0;
            --text: #333;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--light);
            color: var(--text);
        }
        
        header {
            background-color: white;
            padding: 1rem 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }

        .logo img {
            height: 80px;
            width: auto;
            margin-right: 12px;
            border-radius: 8px;
            padding: 5px;
            transition: all 0.3s ease;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 1.5rem;
        }
        
        nav ul li a {
            text-decoration: none;
            color: var(--text);
            font-weight: 500;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .search-container {
            background-color: white;
            border-radius: 8px;
            padding: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }
        
        .search-form {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr auto;
            gap: 1rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        label {
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        input, select {
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        button {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        button:hover {
            background-color: #3a79cc;
        }
        
        .results-view-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .view-toggle {
            display: flex;
        }
        
        .view-toggle button {
            background-color: white;
            color: var(--text);
            border: 1px solid #ddd;
            padding: 0.5rem 1rem;
        }
        
        .view-toggle button.active {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .view-toggle button:first-child {
            border-radius: 4px 0 0 4px;
        }
        
        .view-toggle button:last-child {
            border-radius: 0 4px 4px 0;
        }
        
        .sort-options select {
            padding: 0.5rem;
        }
        
        /* Content containers */
        .content-container {
            display: flex;
            gap: 1rem;
            height: 600px;
        }

        .hotel-list-container {
            flex: 1;
            overflow-y: auto;
        }

        .map-container {
            flex: 1;
            display: none;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .map-container.active {
            display: block;
        }

        .content-container.map-view .hotel-list-container {
            flex: 0.4;
        }

        .content-container.map-view .map-container {
            flex: 0.6;
            display: block;
        }

        #map {
            height: 100%;
            width: 100%;
        }
        
        .hotel-list {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }
        
        .hotel-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            cursor: pointer;
        }

        .hotel-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .hotel-card.highlight {
            border: 2px solid var(--primary);
            box-shadow: 0 4px 12px rgba(74, 137, 220, 0.3);
        }
        
        .hotel-image {
            width: 200px;
            height: 150px;
            overflow: hidden;
            flex-shrink: 0;
        }
        
        .hotel-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .hotel-details {
            padding: 1rem;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .hotel-name {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .hotel-location {
            display: flex;
            align-items: center;
            color: #666;
            margin-bottom: 0.5rem;
        }

        .hotel-category {
            margin-bottom: 0.5rem;
        }

        .category-badge {
            background-color: var(--gray);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
        }
        
        .hotel-amenities {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 0.5rem;
        }
        
        .amenity {
            background-color: var(--gray);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-size: 0.75rem;
            margin-right: 0.4rem;
            margin-bottom: 0.3rem;
        }
        
        .hotel-price {
            margin-top: auto;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }
        
        .price {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .price-details {
            font-size: 0.75rem;
            color: #666;
        }

        .select-btn {
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }
        
        /* Custom popup styles */
        .leaflet-popup-content-wrapper {
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .hotel-popup {
            text-align: center;
            min-width: 200px;
        }

        .hotel-popup img {
            width: 100%;
            height: 100px;
            object-fit: cover;
            border-radius: 4px;
            margin-bottom: 8px;
        }

        .hotel-popup h4 {
            margin: 8px 0 4px 0;
            color: var(--primary);
        }

        .hotel-popup .price {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--primary);
            margin: 4px 0;
        }

        .hotel-popup button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .no-results {
            text-align: center;
            padding: 2rem;
            color: #666;
        }
        
        @media (max-width: 768px) {
            .search-form {
                grid-template-columns: 1fr;
            }
            
            .content-container {
                flex-direction: column;
                height: auto;
            }

            .hotel-list-container {
                height: 400px;
            }

            .map-container {
                height: 400px;
            }

            .content-container.map-view .hotel-list-container,
            .content-container.map-view .map-container {
                flex: 1;
            }
            
            .hotel-card {
                flex-direction: column;
            }
            
            .hotel-image {
                width: 100%;
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <header>
        <a href="#" class="logo">
            <img src="https://myepicstays.com/assets/img/logo.png" alt="MyEpicStays Logo">
        </a>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="#">Hotels</a></li>
                <li><a href="#">Register you hotel</a></li>
                <li><a href="#">Login</a></li>
            </ul>
        </nav>
    </header>
    
    <div class="container">
        <div class="search-container">
            <form class="search-form" method="post">
                <div class="form-group">
                    <label for="destination">‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫</label>
                    <select name="destination" class="form-input" required>
                        <option value="">Select your destination</option>
                        <option value="1">‡∂ö‡∑ú‡∑Ö‡∂π</option>
                        <option value="2">‡∂ú‡∂∏‡∑ä‡∂¥‡∑Ñ</option>
                        <option value="3">‡∂ö‡∑Ö‡∑î‡∂≠‡∂ª</option>
                        <option value="4">‡∂ö‡∑ê‡∂±‡∑ä‡∂©‡∑í</option>
                        <option value="5">‡∂∏‡∑è‡∂≠‡∂ª</option>
                        <option value="6">‡∂ú‡∑è‡∂Ω‡∑ä‡∂Ω</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="check-in">‡∂¥‡∑ê‡∂∏‡∑í‡∂´‡∑ô‡∂± ‡∂Ø‡∑í‡∂±‡∂∫</label>
                    <input type="date" name="startDate" id="check-in">
                </div>
                <div class="form-group">
                    <label for="check-out">‡∂¥‡∑í‡∂ß‡∂≠‡∑ä‡∑Ä‡∂± ‡∂Ø‡∑í‡∂±‡∂∫</label>
                    <input type="date" name="endDate" id="check-out">
                </div>
                <div class="form-group">
                    <label for="guests">‡∂Ö‡∂∏‡∑î‡∂≠‡∑ä‡∂≠‡∂±‡∑ä</label>
                    <select class="form-input" name="guests" id="guestSelect">
                        <option value="">Select guests</option>
                        <option value="1">1 Guest</option>
                        <option value="2">2 Guests</option>
                        <option value="3">3 Guests</option>
                        <option value="4">4 Guests</option>
                        <option value="5">5+ Guests</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>&nbsp;</label>
                    <button type="button" onclick="searchHotels()">‡∑É‡∑ú‡∂∫‡∂±‡∑ä‡∂±</button>
                </div>
            </form>
        </div> 
        
        <div class="results-view-options">
            <div class="view-toggle">
                <button id="listView" class="active" onclick="switchView('list')">‡∂Ω‡∑ê‡∂∫‡∑í‡∑É‡∑ä‡∂≠‡∑î‡∑Ä</button>
                <button id="mapView" onclick="switchView('map')">‡∑É‡∑í‡∂≠‡∑í‡∂∫‡∂∏</button>
            </div>
            
            <div class="sort-options">
                <select>
                    <option>‡∂î‡∂∂‡∂ß ‡∑Ä‡∂©‡∑è‡∂≠‡∑ä ‡∑É‡∑î‡∂Ø‡∑î‡∑É‡∑î</option>
                    <option>‡∂∏‡∑í‡∂Ω - ‡∂Ö‡∂©‡∑î‡∂∏ ‡∑É‡∑í‡∂ß ‡∑Ä‡∑ê‡∂©‡∑í‡∂∏</option>
                    <option>‡∂∏‡∑í‡∂Ω - ‡∑Ä‡∑ê‡∂©‡∑í‡∂∏ ‡∑É‡∑í‡∂ß ‡∂Ö‡∂©‡∑î‡∂∏</option>
                    <option>‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂ú‡∂≠ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏ - ‡∂â‡∑Ñ‡∑Ö‡∂∏</option>
                </select>
            </div>
        </div>

        <div class="content-container" id="contentContainer">
            <div class="hotel-list-container">
                <div class="hotel-list" id="hotelList">
                    <!-- Hotels will be populated here -->
                </div>
                <div class="no-results" id="noResults" style="display: none;">
                    <h3>‡∂ö‡∑í‡∑É‡∑í‡∂Ø‡∑î ‡∑Ñ‡∑ù‡∂ß‡∂Ω‡∂∫‡∂ö‡∑ä ‡∂±‡∑ú‡∂∏‡∑ê‡∂≠</h3>
                    <p>‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫‡∂ö‡∑ä ‡∂≠‡∑ù‡∂ª‡∑è ‡∑É‡∑ú‡∂∫‡∂±‡∑ä‡∂±</p>
                </div>
            </div>
            
            <div class="map-container" id="mapContainer">
                <div id="map"></div>
            </div>
        </div>
    </div>
    
    <!-- Leaflet JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
    
    <script>
        let map;
        let markers = [];
        let currentView = 'list';
        
        // Sample hotel data (this would come from your Django backend)
        const sampleHotels = [
            {
                id: 1,
                title: "‡∑É‡∑í‡∂Ç‡∑Ñ‡∂ª‡∑è‡∂¢ ‡∂ª‡∑í‡∑É‡∑ù‡∂ß‡∑ä",
                address: "‡∂ª‡∂≠‡∑ä‡∂±‡∂¥‡∑î‡∂ª",
                category: "‡∂ª‡∑í‡∑É‡∑ù‡∂ß‡∑ä",
                price: 12500,
                lat: 6.4138,
                lng: 80.4164,
                image: "https://images.unsplash.com/photo-1566073771259-6a8506099945?w=300&h=200&fit=crop"
            },
            {
                id: 2,
                title: "‡∂ú‡∂Ω‡∑ä‡∑Ä‡∂Ω ‡∂ª‡∑í‡∑É‡∑ù‡∂ß‡∑ä",
                address: "‡∂±‡∑î‡∑Ä‡∂ª‡∂ë‡∑Ö‡∑í‡∂∫",
                category: "‡∑Ñ‡∑ù‡∂ß‡∂Ω‡∂∫",
                price: 8900,
                lat: 6.9497,
                lng: 80.7891,
                image: "https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=300&h=200&fit=crop"
            },
            {
                id: 3,
                title: "‡∂∏‡∑î‡∑Ñ‡∑î‡∂Ø‡∑î ‡∂≠‡∂ª‡∂´‡∂∫",
                address: "‡∂ú‡∑è‡∂Ω‡∑ä‡∂Ω",
                category: "‡∂∂‡∑ì‡∂†‡∑ä ‡∂ª‡∑í‡∑É‡∑ù‡∂ß‡∑ä",
                price: 15750,
                lat: 6.0329,
                lng: 80.217,
                image: "https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=300&h=200&fit=crop"
            },
            {
                id: 4,
                title: "‡∂ö‡∂±‡∑ä‡∂Ø ‡∂ã‡∂© ‡∑Ä‡∑í‡∂Ω‡∑è",
                address: "‡∂ö‡∑ê‡∂±‡∑ä‡∂©‡∑í",
                category: "‡∑Ä‡∑í‡∂Ω‡∑è",
                price: 18500,
                lat: 7.2906,
                lng: 80.6337,
                image: "https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?w=300&h=200&fit=crop"
            },
            {
                id: 5,
                title: "‡∂ö‡∑ú‡∑Ö‡∂π ‡∑É‡∑í‡∂ß‡∑í ‡∑Ñ‡∑ù‡∂ß‡∂Ω‡∂∫",
                address: "‡∂ö‡∑ú‡∑Ö‡∂π",
                category: "‡∑É‡∑í‡∂ß‡∑í ‡∑Ñ‡∑ù‡∂ß‡∂Ω‡∂∫",
                price: 22000,
                lat: 6.9271,
                lng: 79.8612,
                image: "https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?w=300&h=200&fit=crop"
            }
        ];

        let currentHotels = [];

        // Initialize map
        function initMap() {
            map = L.map('map').setView([7.8731, 80.7718], 8); // Center of Sri Lanka

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);
        }

        // Add markers to map
        function addMarkersToMap(hotels) {
            // Clear existing markers
            markers.forEach(marker => map.removeLayer(marker));
            markers = [];

            hotels.forEach(hotel => {
                const marker = L.marker([hotel.lat, hotel.lng]).addTo(map);
                
                const popupContent = `
                    <div class="hotel-popup">
                        <img src="${hotel.image}" alt="${hotel.title}">
                        <h4>${hotel.title}</h4>
                        <p>${hotel.address}</p>
                        <p class="price">‡∂ª‡∑î ${hotel.price.toLocaleString()}</p>
                        <button onclick="selectHotel(${hotel.id})">‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±</button>
                    </div>
                `;
                
                marker.bindPopup(popupContent);
                
                // Add click event to highlight corresponding hotel card
                marker.on('click', function() {
                    highlightHotelCard(hotel.id);
                });
                
                markers.push(marker);
            });

            // Fit map bounds to show all markers
            if (markers.length > 0) {
                const group = new L.featureGroup(markers);
                map.fitBounds(group.getBounds().pad(0.1));
            }
        }

        // Render hotel list
        function renderHotels(hotels) {
            const hotelList = document.getElementById('hotelList');
            const noResults = document.getElementById('noResults');
            
            if (hotels.length === 0) {
                hotelList.style.display = 'none';
                noResults.style.display = 'block';
                return;
            }
            
            hotelList.style.display = 'block';
            noResults.style.display = 'none';
            
            hotelList.innerHTML = hotels.map(hotel => `
                <div class="hotel-card" data-hotel-id="${hotel.id}" onclick="focusHotelOnMap(${hotel.id})">
                    <div class="hotel-image">
                        <img src="${hotel.image}" alt="${hotel.title}">
                    </div>
                    <div class="hotel-details">
                        <h3 class="hotel-name">${hotel.title}</h3>
                        <div class="hotel-location">
                            <span>üìç ${hotel.address}</span>
                        </div>
                        <div class="hotel-category">
                            <span class="category-badge">${hotel.category}</span>
                        </div>
                        <div class="hotel-amenities">
                            <span class="amenity">‡∂¥‡∑í‡∑Ñ‡∑í‡∂±‡∑î‡∂∏‡∑ä ‡∂≠‡∂ß‡∑è‡∂ö‡∂∫</span>
                            <span class="amenity">‡∂±‡∑ú‡∂∏‡∑í‡∂Ω‡∑ö Wi-Fi</span>
                            <span class="amenity">‡∂Ü‡∑Ñ‡∑è‡∂ª ‡∂¥‡∑è‡∂±</span>
                            <span class="amenity">‡∂í‡∑É‡∑ì</span>
                        </div>
                        <div class="hotel-price">
                            <div class="price-section">
                                <div class="price">‡∂ª‡∑î ${hotel.price.toLocaleString()}</div>                                      
                                <div class="price-details">‡∑É‡∂∏‡∑ä‡∂¥‡∑î‡∂ª‡∑ä‡∂´ ‡∂∏‡∑î‡∂Ø‡∂Ω, ‡∂∂‡∂Ø‡∑î ‡∂á‡∂≠‡∑î‡∑Ö‡∑î‡∑Ä</div>
                            </div>
                            <div class="actions">
                                <button class="select-btn" onclick="selectHotel(${hotel.id}); event.stopPropagation();">‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±</button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Switch between list and map view
        function switchView(view) {
            const listViewBtn = document.getElementById('listView');
            const mapViewBtn = document.getElementById('mapView');
            const contentContainer = document.getElementById('contentContainer');
            
            currentView = view;
            
            if (view === 'list') {
                listViewBtn.classList.add('active');
                mapViewBtn.classList.remove('active');
                contentContainer.classList.remove('map-view');
            } else {
                mapViewBtn.classList.add('active');
                listViewBtn.classList.remove('active');
                contentContainer.classList.add('map-view');
                
                // Initialize map if not already done
                if (!map) {
                    setTimeout(() => {
                        initMap();
                        addMarkersToMap(currentHotels);
                    }, 100);
                } else {
                    // Refresh map size and markers
                    setTimeout(() => {
                        map.invalidateSize();
                        addMarkersToMap(currentHotels);
                    }, 100);
                }
            }
        }

        // Focus on hotel marker in map
        function focusHotelOnMap(hotelId) {
            if (currentView === 'map' && map) {
                const hotel = currentHotels.find(h => h.id === hotelId);
                if (hotel) {
                    map.setView([hotel.lat, hotel.lng], 12);
                    // Open popup for this hotel
                    const marker = markers.find(m => m.getLatLng().lat === hotel.lat && m.getLatLng().lng === hotel.lng);
                    if (marker) {
                        marker.openPopup();
                    }
                }
            }
        }

        // Highlight hotel card
        function highlightHotelCard(hotelId) {
            // Remove existing highlights
            document.querySelectorAll('.hotel-card').forEach(card => {
                card.classList.remove('highlight');
            });
            
            // Add highlight to selected card
            const hotelCard = document.querySelector(`[data-hotel-id="${hotelId}"]`);
            if (hotelCard) {
                hotelCard.classList.add('highlight');
                hotelCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        // Search hotels (mock function)
        function searchHotels() {
            const destination = document.querySelector('select[name="destination"]').value;
            
            if (!destination) {
                alert('‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫‡∂ö‡∑ä ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±');
                return;
            }
            
            // Filter hotels based on destination (mock logic)
            let filteredHotels = sampleHotels;
            
            // In real implementation, this would be an AJAX call to your Django backend
            currentHotels = filteredHotels;
            renderHotels(currentHotels);
            
            if (currentView === 'map' && map) {
                addMarkersToMap(currentHotels);
            }
        }

        // Select hotel
        function selectHotel(hotelId) {
            const hotel = currentHotels.find(h => h.id === hotelId);
            if (hotel) {
                alert(`‡∂î‡∂∂ ‡∂≠‡∑ù‡∂ª‡∑è‡∂ú‡∂≠‡∑ä ‡∑Ñ‡∑ù‡∂ß‡∂Ω‡∂∫: ${hotel.title}`);
                // Here you would redirect to hotel details page
            }
        }

        // Initialize with sample data
        document.addEventListener('DOMContentLoaded', function() {
            currentHotels = sampleHotels;
            renderHotels(currentHotels);
        });
    </script>
</body>
</html>
 {% endcomment %}




















































<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Registration - MyEpicStays</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #0071c2 0%, #005a9e 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .progress-bar {
            display: flex;
            justify-content: space-between;
            padding: 30px 40px;
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
        }

        .progress-step {
            flex: 1;
            text-align: center;
            position: relative;
            padding: 0 10px;
        }

        .progress-step:not(:last-child)::after {
            content: '';
            position: absolute;
            top: 20px;
            left: 60%;
            width: 80%;
            height: 2px;
            background: #ddd;
            z-index: 0;
        }

        .progress-step.active .step-number {
            background: #0071c2;
            color: white;
        }

        .progress-step.completed .step-number {
            background: #28a745;
            color: white;
        }

        .progress-step.completed::after {
            background: #28a745;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #ddd;
            color: #666;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 8px;
            position: relative;
            z-index: 1;
        }

        .step-label {
            font-size: 0.9em;
            color: #666;
            font-weight: 500;
        }

        .form-container {
            padding: 40px;
        }

        .form-section {
            display: none;
            animation: fadeIn 0.5s;
        }

        .form-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 3px solid #0071c2;
        }

        .section-description {
            color: #666;
            margin-bottom: 30px;
            font-size: 1.05em;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        label {
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        label .required {
            color: #dc3545;
            margin-left: 3px;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="number"],
        input[type="url"],
        select,
        textarea {
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s;
            font-family: inherit;
        }

        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #0071c2;
            box-shadow: 0 0 0 3px rgba(0, 113, 194, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        .image-upload-area {
            border: 2px dashed #ccc;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #f8f9fa;
        }

        .image-upload-area:hover {
            border-color: #0071c2;
            background: #e3f2fd;
        }

        .image-upload-area input[type="file"] {
            display: none;
        }

        .upload-icon {
            font-size: 3em;
            color: #0071c2;
            margin-bottom: 10px;
        }

        .facility-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .facility-item {
            display: flex;
            align-items: center;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .facility-item:hover {
            border-color: #0071c2;
            background: #f0f8ff;
        }

        .facility-item input[type="checkbox"] {
            margin-right: 10px;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .facility-item.checked {
            border-color: #0071c2;
            background: #e3f2fd;
        }

        .room-category-card {
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            position: relative;
            background: #f8f9fa;
        }

        .remove-room-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #dc3545;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
        }

        .remove-room-btn:hover {
            background: #c82333;
        }

        .add-room-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            margin-top: 15px;
        }

        .add-room-btn:hover {
            background: #218838;
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #e0e0e0;
        }

        .btn {
            padding: 15px 40px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-primary {
            background: #0071c2;
            color: white;
        }

        .btn-primary:hover {
            background: #005a9e;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
        }

        .helper-text {
            font-size: 0.85em;
            color: #666;
            margin-top: 5px;
        }

        .preview-images {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .preview-image {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            aspect-ratio: 1;
        }

        .preview-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .preview-image .remove-img {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(220, 53, 69, 0.9);
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            font-size: 1em;
        }

        .success-message {
            display: none;
            text-align: center;
            padding: 60px 40px;
        }

        .success-message.active {
            display: block;
        }

        .success-icon {
            font-size: 5em;
            color: #28a745;
            margin-bottom: 20px;
        }

        .success-message h2 {
            color: #28a745;
            font-size: 2em;
            margin-bottom: 15px;
        }

        .success-message p {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .progress-bar {
                flex-direction: column;
                gap: 20px;
            }

            .progress-step::after {
                display: none;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .button-group {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè® Property Registration</h1>
            <p>MyEpicStays - Register Your Property</p>
        </div>

        <div class="progress-bar">
            <div class="progress-step active" data-step="1">
                <div class="step-number">1</div>
                <div class="step-label">Basic Info</div>
            </div>
            <div class="progress-step" data-step="2">
                <div class="step-number">2</div>
                <div class="step-label">Images</div>
            </div>
            <div class="progress-step" data-step="3">
                <div class="step-number">3</div>
                <div class="step-label">Facilities</div>
            </div>
            <div class="progress-step" data-step="4">
                <div class="step-number">4</div>
                <div class="step-label">Rooms</div>
            </div>
            <div class="progress-step" data-step="5">
                <div class="step-number">5</div>
                <div class="step-label">Pricing</div>
            </div>
            <div class="progress-step" data-step="6">
                <div class="step-number">6</div>
                <div class="step-label">Review</div>
            </div>
        </div>

        <div class="form-container">
            <form id="propertyRegistrationForm">
                
                <!-- Step 1: Basic Information -->
                <div class="form-section active" data-section="1">
                    <h2 class="section-title">üìã Basic Information</h2>
                    <p class="section-description">Let's start with the essential details about your property</p>
                    
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label>Property Title <span class="required">*</span></label>
                            <input type="text" name="title" required placeholder="e.g., Luxury Beach Resort Colombo">
                        </div>
                        
                        <div class="form-group">
                            <label>Property Category <span class="required">*</span></label>
                            <select name="propertyCategory" required>
                                <option value="">Select Category</option>
                                <option value="1">Hotel</option>
                                <option value="2">Villa</option>
                                <option value="3">Resort</option>
                                <option value="4">Guest House</option>
                                <option value="5">Apartment</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>District <span class="required">*</span></label>
                            <select name="district" required>
                                <option value="">Select District</option>
                                <option value="1">Colombo</option>
                                <option value="2">Gampaha</option>
                                <option value="3">Kalutara</option>
                                <option value="4">Kandy</option>
                                <option value="5">Matale</option>
                                <option value="6">Nuwara Eliya</option>
                                <option value="7">Galle</option>
                                <option value="8">Matara</option>
                                <option value="9">Hambantota</option>
                            </select>
                        </div>
                        
                        <div class="form-group full-width">
                            <label>Address <span class="required">*</span></label>
                            <input type="text" name="address" required placeholder="e.g., 123, Galle Road, Colombo 03">
                            <span class="helper-text">Please provide the complete address</span>
                        </div>
                        
                        <div class="form-group full-width">
                            <label>Description <span class="required">*</span></label>
                            <textarea name="description" required placeholder="Describe your property, its unique features, and what makes it special..."></textarea>
                            <span class="helper-text">Minimum 100 characters recommended</span>
                        </div>
                        
                        <div class="form-group">
                            <label>Contact Email <span class="required">*</span></label>
                            <input type="email" name="email" required placeholder="contact@property.com">
                        </div>
                        
                        <div class="form-group">
                            <label>Contact Phone <span class="required">*</span></label>
                            <input type="tel" name="phone" required placeholder="+94 77 123 4567">
                        </div>
                    </div>
                </div>

                <!-- Step 2: Images -->
                <div class="form-section" data-section="2">
                    <h2 class="section-title">üì∏ Property Images</h2>
                    <p class="section-description">Add high-quality images to showcase your property</p>
                    
                    <div class="form-group full-width">
                        <label>Main Property Image <span class="required">*</span></label>
                        <div class="image-upload-area" onclick="document.getElementById('mainImage').click()">
                            <div class="upload-icon">üì∑</div>
                            <p><strong>Click to upload</strong> or drag and drop</p>
                            <p class="helper-text">Recommended: 1920x1080px, Max 5MB</p>
                            <input type="file" id="mainImage" name="mainImage" accept="image/*">
                        </div>
                        <div id="mainImagePreview" class="preview-images"></div>
                    </div>
                    
                    <div class="form-group full-width" style="margin-top: 30px;">
                        <label>Gallery Images (Multiple)</label>
                        <div class="image-upload-area" onclick="document.getElementById('galleryImages').click()">
                            <div class="upload-icon">üñºÔ∏è</div>
                            <p><strong>Click to upload multiple images</strong></p>
                            <p class="helper-text">Select up to 10 images showcasing different areas</p>
                            <input type="file" id="galleryImages" name="galleryImages" accept="image/*" multiple>
                        </div>
                        <div id="galleryPreview" class="preview-images"></div>
                    </div>
                    
                    <div class="form-group full-width" style="margin-top: 30px;">
                        <label>Room Images (Multiple)</label>
                        <div class="image-upload-area" onclick="document.getElementById('roomImages').click()">
                            <div class="upload-icon">üõèÔ∏è</div>
                            <p><strong>Click to upload room images</strong></p>
                            <p class="helper-text">Show your best rooms and accommodations</p>
                            <input type="file" id="roomImages" name="roomImages" accept="image/*" multiple>
                        </div>
                        <div id="roomImagesPreview" class="preview-images"></div>
                    </div>
                </div>

                <!-- Step 3: Facilities -->
                <div class="form-section" data-section="3">
                    <h2 class="section-title">‚ú® Property Facilities</h2>
                    <p class="section-description">Select all the facilities available at your property</p>
                    
                    <label>Available Facilities <span class="required">*</span></label>
                    <div class="facility-grid">
                        <div class="facility-item" onclick="toggleFacility(this)">
                            <input type="checkbox" name="facilities" value="Swimming Pool">
                            <span>üèä Swimming Pool</span>
                        </div>
                        <div class="facility-item" onclick="toggleFacility(this)">
                            <input type="checkbox" name="facilities" value="Spa & Wellness">
                            <span>üíÜ Spa & Wellness</span>
                        </div>
                        <div class="facility-item" onclick="toggleFacility(this)">
                            <input type="checkbox" name="facilities" value="Free WiFi">
                            <span>üì∂ Free WiFi</span>
                        </div>
                        <div class="facility-item" onclick="toggleFacility(this)">
                            <input type="checkbox" name="facilities" value="Restaurant">
                            <span>üçΩÔ∏è Restaurant</span>
                        </div>
                        <div class="facility-item" onclick="toggleFacility(this)">
                            <input type="checkbox" name="facilities" value="Bar">
                            <span>üçπ Bar</span>
                        </div>
                        <div class="facility-item" onclick="toggleFacility(this)">
                            <input type="checkbox" name="facilities" value="Gym">
                            <span>üí™ Gym</span>
                        </div>
                        <div class="facility-item" onclick="toggleFacility(this)">
                            <input type="checkbox" name="facilities" value="Parking">
                            <span>üÖøÔ∏è Parking</span>
                        </div>
                        <div class="facility-item" onclick="toggleFacility(this)">
                            <input type="checkbox" name="facilities" value="Beach Access">
                            <span>üèñÔ∏è Beach Access</span>
                        </div>
                        <div class="facility-item" onclick="toggleFacility(this)">
                            <input type="checkbox" name="facilities" value="Airport Shuttle">
                            <span>‚úàÔ∏è Airport Shuttle</span>
                        </div>
                        <div class="facility-item" onclick="toggleFacility(this)">
                            <input type="checkbox" name="facilities" value="Conference Room">
                            <span>üè¢ Conference Room</span>
                        </div>
                        <div class="facility-item" onclick="toggleFacility(this)">
                            <input type="checkbox" name="facilities" value="Kids Club">
                            <span>üë∂ Kids Club</span>
                        </div>
                        <div class="facility-item" onclick="toggleFacility(this)">
                            <input type="checkbox" name="facilities" value="Pet Friendly">
                            <span>üêï Pet Friendly</span>
                        </div>
                    </div>

                    <div style="margin-top: 40px;">
                        <label>Property Restrictions</label>
                        <div class="facility-grid">
                            <div class="facility-item" onclick="toggleFacility(this)">
                                <input type="checkbox" name="restrictions" value="No Smoking">
                                <span>üö≠ No Smoking</span>
                            </div>
                            <div class="facility-item" onclick="toggleFacility(this)">
                                <input type="checkbox" name="restrictions" value="No Pets">
                                <span>üö´üêï No Pets</span>
                            </div>
                            <div class="facility-item" onclick="toggleFacility(this)">
                                <input type="checkbox" name="restrictions" value="Adults Only">
                                <span>üîû Adults Only</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Room Categories -->
                <div class="form-section" data-section="4">
                    <h2 class="section-title">üõèÔ∏è Room Categories</h2>
                    <p class="section-description">Add different types of rooms available at your property</p>
                    
                    <div id="roomCategoriesContainer">
                        <div class="room-category-card">
                            <h3 style="margin-bottom: 20px;">Room Category 1</h3>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>Room Type <span class="required">*</span></label>
                                    <input type="text" name="roomType[]" required placeholder="e.g., Deluxe Room">
                                </div>
                                <div class="form-group">
                                    <label>Max Occupancy <span class="required">*</span></label>
                                    <input type="number" name="maxOccupancy[]" required min="1" placeholder="2">
                                </div>
                                <div class="form-group">
                                    <label>Number of Units <span class="required">*</span></label>
                                    <input type="number" name="noOfUnits[]" required min="1" placeholder="5">
                                </div>
                                <div class="form-group">
                                    <label>Room Size <span class="required">*</span></label>
                                    <input type="text" name="roomSize[]" required placeholder="e.g., 35 sqm">
                                </div>
                                <div class="form-group full-width">
                                    <label>Room Description</label>
                                    <textarea name="roomDescription[]" placeholder="Describe the room features, amenities, view, etc."></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button type="button" class="add-room-btn" onclick="addRoomCategory()">‚ûï Add Another Room Category</button>
                </div>

                <!-- Step 5: Pricing -->
                <div class="form-section" data-section="5">
                    <h2 class="section-title">üí∞ Pricing Details</h2>
                    <p class="section-description">Set your property pricing structure</p>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Minimum Price Per Night (LKR) <span class="required">*</span></label>
                            <input type="number" name="minNightPrice" required min="0" step="100" placeholder="5000">
                            <span class="helper-text">Base price for 2 guests</span>
                        </div>
                        
                        <div class="form-group">
                            <label>Additional Guest Price (LKR) <span class="required">*</span></label>
                            <input type="number" name="additionalGuestPrice" required min="0" step="100" placeholder="1000">
                            <span class="helper-text">Price per additional guest above 2</span>
                        </div>
                        
                        <div class="form-group">
                            <label>Currency</label>
                            <select name="currency">
                                <option value="LKR">LKR - Sri Lankan Rupee</option>
                                <option value="USD">USD - US Dollar</option>
                                <option value="EUR">EUR - Euro</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Check-in Time</label>
                            <input type="time" name="checkinTime" value="14:00">
                        </div>
                        
                        <div class="form-group">
                            <label>Check-out Time</label>
                            <input type="time" name="checkoutTime" value="11:00">
                        </div>
                        
                        <div class="form-group">
                            <label>Cancellation Policy</label>
                            <select name="cancellationPolicy">
                                <option value="flexible">Flexible - Free cancellation up to 24 hours before check-in</option>
                                <option value="moderate">Moderate - Free cancellation up to 5 days before check-in</option>
                                <option value="strict">Strict - 50% refund up to 7 days before check-in</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Step 6: Review -->
                <div class="form-section" data-section="6">
                    <h2 class="section-title">‚úÖ Review & Submit</h2>
                    <p class="section-description">Please review all the information before submitting</p>
                    
                    <div id="reviewContent" style="background: #f8f9fa; padding: 30px; border-radius: 12px; margin-bottom: 30px;">
                        <h3 style="margin-bottom: 20px; color: #0071c2;">üìã Summary</h3>
                        <div id="reviewSummary"></div>
                    </div>
                    
                    <div class="form-group">
                        <label style="display: flex; align-items: center; cursor: pointer;">
                            <input type="checkbox" id="termsCheckbox" required style="margin-right: 10px; width: 20px; height: 20px;">
                            <span>I agree to the Terms & Conditions and Privacy Policy <span class="required">*</span></span>
                        </label>
                    </div>
                </div>

                <!-- Success Message -->
                <div class="success-message">
                    <div class="success-icon">‚úÖ</div>
                    <h2>Registration Successful!</h2>
                    <p>Your property has been successfully registered. We'll review your submission and get back to you within 24-48 hours.</p>
                    <button type="button" class="btn btn-primary" onclick="location.reload()">Register Another Property</button>
                </div>

                <!-- Navigation Buttons -->
                <div class="button-group">
                    <button type="button" class="btn btn-secondary" id="prevBtn" onclick="changeStep(-1)" style="display: none;">‚¨ÖÔ∏è Previous</button>
                    <button type="button" class="btn btn-primary" id="nextBtn" onclick="changeStep(1)">Next ‚û°Ô∏è</button>
                    <button type="submit" class="btn btn-success" id="submitBtn" style="display: none;">üéâ Submit Registration</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 6;
        let roomCategoryCount = 1;

        // Change step function
        function changeStep(direction) {
            const currentSection = document.querySelector(`.form-section[data-section="${currentStep}"]`);
            
            // Validate current step before moving forward
            if (direction === 1) {
                const inputs = currentSection.querySelectorAll('input[required], select[required], textarea[required]');
                let isValid = true;
                
                inputs.forEach(input => {
                    if (!input.value) {
                        isValid = false;
                        input.style.borderColor = '#dc3545';
                    } else {
                        input.style.borderColor = '#e0e0e0';
                    }
                });
                
                if (!isValid) {
                    alert('Please fill in all required fields');
                    return;
                }
            }
            
            // Hide current section
            currentSection.classList.remove('active');
            
            // Update current step
            currentStep += direction;
            
            // Show new section
            const newSection = document.querySelector(`.form-section[data-section="${currentStep}"]`);
            newSection.classList.add('active');
            
            // Update progress bar
            updateProgressBar();
            
            // Update buttons
            updateButtons();
            
            // Show review summary on last step
            if (currentStep === totalSteps) {
                generateReviewSummary();
            }
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Update progress bar
        function updateProgressBar() {
            document.querySelectorAll('.progress-step').forEach((step, index) => {
                const stepNum = index + 1;
                step.classList.remove('active', 'completed');
                
                if (stepNum < currentStep) {
                    step.classList.add('completed');
                } else if (stepNum === currentStep) {
                    step.classList.add('active');
                }
            });
        }

        // Update navigation buttons
        function updateButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            
            // Show/hide previous button
            prevBtn.style.display = currentStep === 1 ? 'none' : 'block';
            
            // Show/hide next and submit buttons
            if (currentStep === totalSteps) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'block';
            } else {
                nextBtn.style.display = 'block';
                submitBtn.style.display = 'none';
            }
        }

        // Toggle facility selection
        function toggleFacility(element) {
            const checkbox = element.querySelector('input[type="checkbox"]');
            checkbox.checked = !checkbox.checked;
            element.classList.toggle('checked', checkbox.checked);
        }

        // Add room category
        function addRoomCategory() {
            roomCategoryCount++;
            const container = document.getElementById('roomCategoriesContainer');
            const newRoom = document.createElement('div');
            newRoom.className = 'room-category-card';
            newRoom.innerHTML = `
                <button type="button" class="remove-room-btn" onclick="removeRoomCategory(this)">‚ùå Remove</button>
                <h3 style="margin-bottom: 20px;">Room Category ${roomCategoryCount}</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Room Type <span class="required">*</span></label>
                        <input type="text" name="roomType[]" required placeholder="e.g., Deluxe Room">
                    </div>
                    <div class="form-group">
                        <label>Max Occupancy <span class="required">*</span></label>
                        <input type="number" name="maxOccupancy[]" required min="1" placeholder="2">
                    </div>
                    <div class="form-group">
                        <label>Number of Units <span class="required">*</span></label>
                        <input type="number" name="noOfUnits[]" required min="1" placeholder="5">
                    </div>
                    <div class="form-group">
                        <label>Room Size <span class="required">*</span></label>
                        <input type="text" name="roomSize[]" required placeholder="e.g., 35 sqm">
                    </div>
                    <div class="form-group full-width">
                        <label>Room Description</label>
                        <textarea name="roomDescription[]" placeholder="Describe the room features, amenities, view, etc."></textarea>
                    </div>
                </div>
            `;
            container.appendChild(newRoom);
        }

        // Remove room category
        function removeRoomCategory(button) {
            button.closest('.room-category-card').remove();
        }

        // Image preview handlers
        document.getElementById('mainImage').addEventListener('change', function(e) {
            handleImagePreview(e, 'mainImagePreview', false);
        });

        document.getElementById('galleryImages').addEventListener('change', function(e) {
            handleImagePreview(e, 'galleryPreview', true);
        });

        document.getElementById('roomImages').addEventListener('change', function(e) {
            handleImagePreview(e, 'roomImagesPreview', true);
        });

        function handleImagePreview(event, previewId, multiple) {
            const preview = document.getElementById(previewId);
            preview.innerHTML = '';
            
            const files = event.target.files;
            
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    const div = document.createElement('div');
                    div.className = 'preview-image';
                    div.innerHTML = `
                        <img src="${e.target.result}" alt="Preview">
                        <button type="button" class="remove-img" onclick="this.parentElement.remove()">√ó</button>
                    `;
                    preview.appendChild(div);
                };
                
                reader.readAsDataURL(file);
            }
        }

        // Generate review summary
        function generateReviewSummary() {
            const form = document.getElementById('propertyRegistrationForm');
            const formData = new FormData(form);
            
            let summary = '';
            
            // Basic Information
            summary += `<div style="margin-bottom: 25px;">
                <h4 style="color: #0071c2; margin-bottom: 10px;">üìã Basic Information</h4>
                <p><strong>Property Title:</strong> ${formData.get('title') || 'N/A'}</p>
                <p><strong>Category:</strong> ${getSelectText('propertyCategory')}</p>
                <p><strong>District:</strong> ${getSelectText('district')}</p>
                <p><strong>Address:</strong> ${formData.get('address') || 'N/A'}</p>
                <p><strong>Email:</strong> ${formData.get('email') || 'N/A'}</p>
                <p><strong>Phone:</strong> ${formData.get('phone') || 'N/A'}</p>
            </div>`;
            
            // Images
            const mainImageCount = document.getElementById('mainImage').files.length;
            const galleryCount = document.getElementById('galleryImages').files.length;
            const roomImagesCount = document.getElementById('roomImages').files.length;
            
            summary += `<div style="margin-bottom: 25px;">
                <h4 style="color: #0071c2; margin-bottom: 10px;">üì∏ Images</h4>
                <p><strong>Main Image:</strong> ${mainImageCount > 0 ? '‚úÖ Uploaded' : '‚ùå Not uploaded'}</p>
                <p><strong>Gallery Images:</strong> ${galleryCount} images</p>
                <p><strong>Room Images:</strong> ${roomImagesCount} images</p>
            </div>`;
            
            // Facilities
            const facilities = Array.from(document.querySelectorAll('input[name="facilities"]:checked'))
                .map(cb => cb.value).join(', ');
            const restrictions = Array.from(document.querySelectorAll('input[name="restrictions"]:checked'))
                .map(cb => cb.value).join(', ');
            
            summary += `<div style="margin-bottom: 25px;">
                <h4 style="color: #0071c2; margin-bottom: 10px;">‚ú® Facilities & Restrictions</h4>
                <p><strong>Facilities:</strong> ${facilities || 'None selected'}</p>
                <p><strong>Restrictions:</strong> ${restrictions || 'None selected'}</p>
            </div>`;
            
            // Room Categories
            const roomTypes = formData.getAll('roomType[]').filter(v => v);
            summary += `<div style="margin-bottom: 25px;">
                <h4 style="color: #0071c2; margin-bottom: 10px;">üõèÔ∏è Room Categories</h4>
                <p><strong>Total Categories:</strong> ${roomTypes.length}</p>
                <ul style="margin-left: 20px; margin-top: 10px;">`;
            
            roomTypes.forEach((type, index) => {
                summary += `<li>${type} (${formData.getAll('noOfUnits[]')[index]} units, Max: ${formData.getAll('maxOccupancy[]')[index]} guests)</li>`;
            });
            summary += `</ul></div>`;
            
            // Pricing
            summary += `<div style="margin-bottom: 25px;">
                <h4 style="color: #0071c2; margin-bottom: 10px;">üí∞ Pricing</h4>
                <p><strong>Minimum Price Per Night:</strong> LKR ${formData.get('minNightPrice') || 'N/A'}</p>
                <p><strong>Additional Guest Price:</strong> LKR ${formData.get('additionalGuestPrice') || 'N/A'}</p>
                <p><strong>Check-in:</strong> ${formData.get('checkinTime') || 'N/A'}</p>
                <p><strong>Check-out:</strong> ${formData.get('checkoutTime') || 'N/A'}</p>
            </div>`;
            
            document.getElementById('reviewSummary').innerHTML = summary;
        }

        // Helper function to get select option text
        function getSelectText(name) {
            const select = document.querySelector(`select[name="${name}"]`);
            return select ? select.options[select.selectedIndex].text : 'N/A';
        }

        // Form submission
        document.getElementById('propertyRegistrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Check terms checkbox
            if (!document.getElementById('termsCheckbox').checked) {
                alert('Please agree to the Terms & Conditions');
                return;
            }
            
            // Show loading state
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.textContent = '‚è≥ Submitting...';
            submitBtn.disabled = true;
            
            // Simulate form submission
            setTimeout(() => {
                // Hide form sections
                document.querySelectorAll('.form-section').forEach(section => {
                    section.style.display = 'none';
                });
                document.querySelector('.button-group').style.display = 'none';
                
                // Show success message
                document.querySelector('.success-message').classList.add('active');
                
                // Update progress bar to completed
                document.querySelectorAll('.progress-step').forEach(step => {
                    step.classList.add('completed');
                    step.classList.remove('active');
                });
                
                // Log form data (in production, this would be sent to server)
                const formData = new FormData(this);
                console.log('Form Data:', Object.fromEntries(formData));
                
            }, 2000);
        });

        // Initialize facility items click handlers
        document.querySelectorAll('.facility-item').forEach(item => {
            item.addEventListener('click', function(e) {
                if (e.target.tagName !== 'INPUT') {
                    const checkbox = this.querySelector('input[type="checkbox"]');
                    checkbox.checked = !checkbox.checked;
                }
                this.classList.toggle('checked', this.querySelector('input[type="checkbox"]').checked);
            });
        });

        // Prevent default checkbox behavior to use custom toggle
        document.querySelectorAll('.facility-item input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        });
    </script>
</body>
</html>